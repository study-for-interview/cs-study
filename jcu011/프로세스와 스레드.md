# 프로세스와 스레드

*******

### 프로세스란 ?
> 실행 중인 프로그램(program).

즉, 사용자가 작성한 프로그램이 운영체제에 의해 메모리 공간을 할당받아 실행 중인 것을 말함.
이러한 프로세스는 프로그램에 사용되는 데이터와 메모리 등의 자원 그리고 스레드로 구성됨

![](2022-01-10-20-54-10.png)

<br>

### 스레드란 ?
스레드(thread)란 프로세스(process) 내에서 실제로 작업을 수행하는 주체를 의미.
모든 프로세스에는 한 개 이상의 스레드가 존재하여 작업을 수행.
또한, 두 개 이상의 스레드를 가지는 **프로세스**는 **멀티스레드 프로세스(multi-threaded process)** 라고 함.

![](2022-01-10-20-52-33.png)

<br>

### 쓰레드와 프로세스의 차이점
프로세스는 완벽히 독립적이기 때문에 메모리 영역(Code, Data, Heap, Stack)을 다른 프로세스와 공유를 하지 않지만, 
쓰레드는 해당 쓰레드를 위한 스택을 생성할 뿐 그 이외의 Code, Data, Heap영역을 공유한다.

<br>

### 멀티프로세스와 멀티스레드
둘 모두 **처리방식의 일종임**
두 방법은 동시에 여러 작업을 수행하는 점에서 동일하지만
각각의 장단이 있으므로 적용하는 시스템에 따라 적합한 동작 방식을 선택하고 적용해야 함.

* 멀티 스레드
장점 : 적은 메모리 공간을 차지하고 **Context Switching이 빠르다**
단점 : 동기화 문제와 하나의 스레드 장애로 전체 스레드가 종료 될 위험을 갖고 있음

<br>

* 멀티 프로세스
장점 : 하나의 프로세스가 죽더라도 다른 프로세스에 영향을 주지 않아 **안정성이 높음**
단점 : 멀티 스레드보다 많은 메모리공간과 CPU 시간을 차지함


<br> <br>

### Context Switching, 동시성
CPU는 한번에 하나의 프로세스(or 쓰레드)만 실행 가능하다.
CPU에서 여러 실행단위를 돌아가면서 작업을 처리하는 데 이 과정을 **Context Switching**라 한다.

**동시성**이란 여러 실행단위를 빠르게 번갈아 실행하면서 동시에 작업하는것 처럼 보이도록 하는것이다.


<br>

### 동시성과 병렬처리
* Concurrency 동시성
    하나의 코어에서 하나 이상의 프로세스(or 쓰레드)가 번갈아 가면서 진행되지만 동시에 진행되는 것처럼 보이는 것

* Parallelism 병렬처리
    둘 이상의 코어에서 동시에 하나 이상의 프로세스(or 쓰레드)가 한꺼번에 진행되는 것


<br>

### 임계 영역(Critical Section)
프로세스간에 공유자원을 접근하는데 있어서 문제가 발생하지 않도록
한번에 하나의 프로세스만 이용하게끔 보장해줘야 하는 영역

<br>
